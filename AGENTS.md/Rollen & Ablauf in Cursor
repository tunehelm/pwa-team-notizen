# AGENTS.md — Rollen & Ablauf in Cursor

## Rollen
### Claude Code (sparsam einsetzen)
Aufgaben:
- Architektur/Design-Review gegen ARCHITECTURE.md
- RLS/DB-Entscheidungen prüfen
- “Was ist der sauberste Weg?” kurz beantworten
- PR-Review: “Finde Bugs / Edge-Cases / Security”

Wichtig:
- Claude soll KEINEN großen Code-Refactor machen.
- Claude liefert kurze “Change Requests” (max 10 bullets).

### Codex (macht die eigentliche Arbeit)
Aufgaben:
- Code schreiben/ändern
- UI bauen/iterieren
- Bugs fixen
- Migrationen/SQL Snippets (wenn klein)
- Tests/Checks

## Token-spar Workflow (standard)
1) Du sagst mir, was du willst (Feature/Bug/Design).
2) Ich gebe dir 2 Prompts:
   - PROMPT für Codex (Implementierung)
   - PROMPT für Claude (kurzer Review, optional)
3) Du führst Codex Prompt aus.
4) Wenn es läuft: optional Claude Review (kurz).
5) Erst dann nächste Aufgabe.

## “Verbindliche Quelle”
Immer im Prompt erwähnen:
- “ARCHITECTURE.md ist verbindlich.”
- “assets/* Referenzbilder sind Inspiration.”

## Debug-Regel
Wenn es klemmt:
- nur 1 Fehler gleichzeitig lösen
- immer 1 Screenshot + 1 Fehlermeldung + welche Datei